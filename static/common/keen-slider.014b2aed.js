var N=function(){return N=Object.assign||function(t){for(var e,i=1,l=arguments.length;i<l;i++)for(var f in e=arguments[i])Object.prototype.hasOwnProperty.call(e,f)&&(t[f]=e[f]);return t},N.apply(this,arguments)};function ut(t,e,i){if(i||arguments.length===2)for(var l,f=0,o=e.length;f<o;f++)!l&&f in e||(l||(l=Array.prototype.slice.call(e,0,f)),l[f]=e[f]);return t.concat(l||Array.prototype.slice.call(e))}function nt(t){return Array.prototype.slice.call(t)}function rt(t,e){var i=Math.floor(t);return i===e||i+1===e?t:e}function at(){return Date.now()}function Z(t,e,i){if(e="data-keen-slider-"+e,i===null)return t.removeAttribute(e);t.setAttribute(e,i||"")}function U(t,e){return e=e||document,typeof t=="function"&&(t=t(e)),Array.isArray(t)?t:typeof t=="string"?nt(e.querySelectorAll(t)):t instanceof HTMLElement?[t]:t instanceof NodeList?nt(t):[]}function G(t){t.raw&&(t=t.raw),t.cancelable&&!t.defaultPrevented&&t.preventDefault()}function Q(t){t.raw&&(t=t.raw),t.stopPropagation&&t.stopPropagation()}function st(){var t=[];return{add:function(e,i,l,f){e.addListener?e.addListener(l):e.addEventListener(i,l,f),t.push([e,i,l,f])},input:function(e,i,l,f){this.add(e,i,function(o){return function(r){r.nativeEvent&&(r=r.nativeEvent);var w=r.changedTouches||[],k=r.targetTouches||[],s=r.detail&&r.detail.x?r.detail:null;return o({id:s?s.identifier?s.identifier:"i":k[0]?k[0]?k[0].identifier:"e":"d",idChanged:s?s.identifier?s.identifier:"i":w[0]?w[0]?w[0].identifier:"e":"d",raw:r,x:s&&s.x?s.x:k[0]?k[0].screenX:s?s.x:r.pageX,y:s&&s.y?s.y:k[0]?k[0].screenY:s?s.y:r.pageY})}}(l),f)},purge:function(){t.forEach(function(e){e[0].removeListener?e[0].removeListener(e[2]):e[0].removeEventListener(e[1],e[2],e[3])}),t=[]}}}function $(t,e,i){return Math.min(Math.max(t,e),i)}function X(t){return(t>0?1:0)-(t<0?1:0)||+t}function ot(t){var e=t.getBoundingClientRect();return{height:rt(e.height,t.offsetHeight),width:rt(e.width,t.offsetWidth)}}function W(t,e,i,l){var f=t&&t[e];return f==null?i:l&&typeof f=="function"?f():f}function V(t){return Math.round(1e6*t)/1e6}function lt(t){var e,i,l,f,o,r;function w(y){r||(r=y),k(!0);var M=y-r;M>l&&(M=l);var h=f[i];if(h[3]<M)return i++,w(y);var a=h[2],b=h[4],C=h[0],x=h[1]*(0,h[5])(b===0?1:(M-a)/b);if(x&&t.track.to(C+x),M<l)return T();r=null,k(!1),s(null),t.emit("animationEnded")}function k(y){e.active=y}function s(y){e.targetIdx=y}function T(){var y;y=w,o=window.requestAnimationFrame(y)}function O(){var y;y=o,window.cancelAnimationFrame(y),k(!1),s(null),r&&t.emit("animationStopped"),r=null}return e={active:!1,start:function(y){if(O(),t.track.details){var M=0,h=t.track.details.position;i=0,l=0,f=y.map(function(a){var b,C=h,x=(b=a.earlyExit)!==null&&b!==void 0?b:a.duration,p=a.easing,A=a.distance*p(x/a.duration)||0;h+=A;var L=l;return l+=x,M+=A,[C,a.distance,L,l,a.duration,p]}),s(t.track.distToIdx(M)),T(),t.emit("animationStarted")}},stop:O,targetIdx:null}}function ft(t){var e,i,l,f,o,r,w,k,s,T,O,y,M,h,a=1/0,b=[],C=null,x=0;function p(c){F(x+c)}function A(c){var u=L(x+c).abs;return E(u)?u:null}function L(c){var u=Math.floor(Math.abs(V(c/i))),n=V((c%i+i)%i);n===i&&(n=0);var d=X(c),v=w.indexOf(ut([],w,!0).reduce(function(I,D){return Math.abs(D-n)<Math.abs(I-n)?D:I})),z=v;return d<0&&u++,v===r&&(z=0,u+=d>0?1:-1),{abs:z+u*r*d,origin:v,rel:z}}function S(c,u,n){var d;if(u||!R())return m(c,n);if(!E(c))return null;var v=L(n??x),z=v.abs,I=c-v.rel,D=z+I;d=m(D);var H=m(D-r*X(I));return(H!==null&&Math.abs(H)<Math.abs(d)||d===null)&&(d=H),V(d)}function m(c,u){if(u==null&&(u=V(x)),!E(c)||c===null)return null;c=Math.round(c);var n=L(u),d=n.abs,v=n.rel,z=n.origin,I=q(c),D=(u%i+i)%i,H=w[z],Y=Math.floor((c-(d-v))/r)*i;return V(H-D-H+w[I]+Y+(z===r?i:0))}function E(c){return _(c)===c}function _(c){return $(c,s,T)}function R(){return f.loop}function q(c){return(c%r+r)%r}function F(c){var u;u=c-x,b.push({distance:u,timestamp:at()}),b.length>6&&(b=b.slice(-6)),x=V(c);var n=g().abs;if(n!==C){var d=C!==null;C=n,d&&t.emit("slideChanged")}}function g(c){var u=c?null:function(){if(r){var n=R(),d=n?(x%i+i)%i:x,v=(n?x%i:x)-o[0][2],z=0-(v<0&&n?i-Math.abs(v):v),I=0,D=L(x),H=D.abs,Y=D.rel,J=o[Y][2],K=o.map(function(j,dt){var P=z+I;(P<0-j[0]||P>1)&&(P+=(Math.abs(P)>i-1&&n?i:0)*X(-P));var tt=dt-Y,it=X(tt),B=tt+H;n&&(it===-1&&P>J&&(B+=r),it===1&&P<J&&(B-=r),O!==null&&B<O&&(P+=i),y!==null&&B>y&&(P-=i));var et=P+j[0]+j[1],ct=Math.max(P>=0&&et<=1?1:et<0||P>1?0:P<0?Math.min(1,(j[0]+P)/j[0]):(1-P)/j[0],0);return I+=j[0]+j[1],{abs:B,distance:f.rtl?-1*P+1-j[0]:P,portion:ct,size:j[0]}});return H=_(H),Y=q(H),{abs:_(H),length:l,max:h,maxIdx:T,min:M,minIdx:s,position:x,progress:n?d/i:x/l,rel:Y,slides:K,slidesLength:i}}}();return e.details=u,t.emit("detailsChanged"),u}return e={absToRel:q,add:p,details:null,distToIdx:A,idxToDist:S,init:function(c){if(function(){if(f=t.options,o=(f.trackConfig||[]).map(function(v){return[W(v,"size",1),W(v,"spacing",0),W(v,"origin",0)]}),r=o.length){i=V(o.reduce(function(v,z){return v+z[0]+z[1]},0));var n,d=r-1;l=V(i+o[0][2]-o[d][0]-o[d][2]-o[d][1]),w=o.reduce(function(v,z){if(!v)return[0];var I=o[v.length-1],D=v[v.length-1]+(I[0]+I[2])+I[1];return D-=z[2],v[v.length-1]>D&&(D=v[v.length-1]),D=V(D),v.push(D),(!n||n<D)&&(k=v.length-1),n=D,v},null),l===0&&(k=0),w.push(V(i))}}(),!r)return g(!0);var u;(function(){var n=t.options.range,d=t.options.loop;O=s=d?W(d,"min",-1/0):0,y=T=d?W(d,"max",a):k;var v=W(n,"min",null),z=W(n,"max",null);v&&(s=v),z&&(T=z),M=s===-1/0?s:t.track.idxToDist(s||0,!0,0),h=T===a?T:S(T,!0,0),z===null&&(y=T),W(n,"align",!1)&&T!==a&&o[q(T)][2]===0&&(h-=1-o[q(T)][0],T=A(h-x)),M=V(M),h=V(h)})(),u=c,Number(u)===u?p(m(_(c))):g()},to:F,velocity:function(){var c=at(),u=b.reduce(function(n,d){var v=d.distance,z=d.timestamp;return c-z>200||(X(v)!==X(n.distance)&&n.distance&&(n={distance:0,lastTimestamp:0,time:0}),n.time&&(n.distance+=v),n.lastTimestamp&&(n.time+=z-n.lastTimestamp),n.lastTimestamp=z),n},{distance:0,lastTimestamp:0,time:0});return u.distance/u.time||0}}}function pt(t){var e,i,l,f,o,r,w;function k(a){return 2*a}function s(a){return $(a,r,w)}function T(a){return 1-Math.pow(1-a,3)}function O(){h();var a=t.options.mode==="free-snap",b=t.track,C=b.velocity();l=X(C);var x=t.track.details,p=[];if(C||!a){var A=y(C),L=A.dist,S=A.dur;if(S=k(S),L*=l,a){var m=b.idxToDist(b.distToIdx(L),!0);m&&(L=m)}p.push({distance:L,duration:S,easing:T});var E=x.position,_=E+L;if(_<f||_>o){var R=_<f?f-E:o-E,q=0,F=C;if(X(R)===l){var g=Math.min(Math.abs(R)/Math.abs(L),1),c=function(d){return 1-Math.pow(1-d,1/3)}(g)*S;p[0].earlyExit=c,F=C*(1-g)}else p[0].earlyExit=0,q+=R;var u=y(F,100),n=u.dist*l;t.options.rubberband&&(p.push({distance:n,duration:k(u.dur),easing:T}),p.push({distance:-n+q,duration:500,easing:T}))}t.animator.start(p)}else t.moveToIdx(s(x.abs),!0,{duration:500,easing:function(d){return 1+--d*d*d*d*d}})}function y(a,b){b===void 0&&(b=1e3);var C=147e-9+(a=Math.abs(a))/b;return{dist:Math.pow(a,2)/C,dur:a/C}}function M(){var a=t.track.details;a&&(f=a.min,o=a.max,r=a.minIdx,w=a.maxIdx)}function h(){t.animator.stop()}t.on("updated",M),t.on("optionsChanged",M),t.on("created",M),t.on("dragStarted",function(){h(),e=i=t.track.details.abs}),t.on("dragEnded",function(){var a=t.options.mode;a==="snap"&&function(){var b=t.track,C=t.track.details,x=C.position,p=X(b.velocity());(x>o||x<f)&&(p=0);var A=e+p;C.slides[b.absToRel(A)].portion===0&&(A-=p),e!==i&&(A=i),X(b.idxToDist(A,!0))!==p&&(A+=p),A=s(A);var L=b.idxToDist(A,!0);t.animator.start([{distance:L,duration:500,easing:function(S){return 1+--S*S*S*S*S}}])}(),a!=="free"&&a!=="free-snap"||O()}),t.on("dragged",function(){i=t.track.details.abs})}function vt(t){var e,i,l,f,o,r,w,k,s,T,O,y,M,h,a,b,C,x,p=st();function A(g){if(r&&k===g.id){var c=E(g);if(s){if(!m(g))return S(g);T=c,s=!1,t.emit("dragChecked")}if(b)return T=c;G(g);var u=function(d){if(C===-1/0&&x===1/0)return d;var v=t.track.details,z=v.length,I=v.position,D=$(d,C-I,x-I);if(z===0)return 0;if(!t.options.rubberband)return D;if(I<=x&&I>=C||I<C&&i>0||I>x&&i<0)return d;var H=(I<C?I-C:I-x)/z,Y=f*z,J=Math.abs(H*Y),K=Math.max(0,1-J/o*2);return K*K*d}(w(T-c)/f*l);i=X(u);var n=t.track.details.position;(n>C&&n<x||n===C&&i>0||n===x&&i<0)&&Q(g),O+=u,!y&&Math.abs(O*f)>5&&(y=!0),t.track.add(u),T=c,t.emit("dragged")}}function L(g){!r&&t.track.details&&t.track.details.length&&(O=0,r=!0,y=!1,s=!0,k=g.id,m(g),T=E(g),t.emit("dragStarted"))}function S(g){r&&k===g.idChanged&&(r=!1,t.emit("dragEnded"))}function m(g){var c=_(),u=c?g.y:g.x,n=c?g.x:g.y,d=M!==void 0&&h!==void 0&&Math.abs(h-n)<=Math.abs(M-u);return M=u,h=n,d}function E(g){return _()?g.y:g.x}function _(){return t.options.vertical}function R(){f=t.size,o=_()?window.innerHeight:window.innerWidth;var g=t.track.details;g&&(C=g.min,x=g.max)}function q(g){y&&(Q(g),G(g))}function F(){if(p.purge(),t.options.drag&&!t.options.disabled){var g;g=t.options.dragSpeed||1,w=typeof g=="function"?g:function(u){return u*g},l=t.options.rtl?-1:1,R(),e=t.container,function(){var u="data-keen-slider-clickable";U("[".concat(u,"]:not([").concat(u,"=false])"),e).map(function(n){p.add(n,"mousedown",Q),p.add(n,"touchstart",Q)})}(),p.add(e,"dragstart",function(u){G(u)}),p.add(e,"click",q,{capture:!0}),p.input(e,"ksDragStart",L),p.input(e,"ksDrag",A),p.input(e,"ksDragEnd",S),p.input(e,"mousedown",L),p.input(e,"mousemove",A),p.input(e,"mouseleave",S),p.input(e,"mouseup",S),p.input(e,"touchstart",L,{passive:!0}),p.input(e,"touchmove",A,{passive:!1}),p.input(e,"touchend",S),p.input(e,"touchcancel",S),p.add(window,"wheel",function(u){r&&G(u)});var c="data-keen-slider-scrollable";U("[".concat(c,"]:not([").concat(c,"=false])"),t.container).map(function(u){return function(n){var d;p.input(n,"touchstart",function(v){d=E(v),b=!0,a=!0},{passive:!0}),p.input(n,"touchmove",function(v){var z=_(),I=z?n.scrollHeight-n.clientHeight:n.scrollWidth-n.clientWidth,D=d-E(v),H=z?n.scrollTop:n.scrollLeft,Y=z&&n.style.overflowY==="scroll"||!z&&n.style.overflowX==="scroll";if(d=E(v),(D<0&&H>0||D>0&&H<I)&&a&&Y)return b=!0;a=!1,G(v),b=!1}),p.input(n,"touchend",function(){b=!1})}(u)})}}t.on("updated",R),t.on("optionsChanged",F),t.on("created",F),t.on("destroyed",p.purge)}function ht(t){var e,i,l=null;function f(M,h,a){t.animator.active?r(M,h,a):requestAnimationFrame(function(){return r(M,h,a)})}function o(){f(!1,!1,i)}function r(M,h,a){var b=0,C=t.size,x=t.track.details;if(x&&e){var p=x.slides;e.forEach(function(A,L){if(M)!l&&h&&k(A,null,a),s(A,null,a);else{if(!p[L])return;var S=p[L].size*C;!l&&h&&k(A,S,a),s(A,p[L].distance*C-b,a),b+=S}})}}function w(M){return t.options.renderMode==="performance"?Math.round(M):M}function k(M,h,a){var b=a?"height":"width";h!==null&&(h=w(h)+"px"),M.style["min-"+b]=h,M.style["max-"+b]=h}function s(M,h,a){if(h!==null){h=w(h);var b=a?h:0;h="translate3d(".concat(a?0:h,"px, ").concat(b,"px, 0)")}M.style.transform=h,M.style["-webkit-transform"]=h}function T(){e&&(r(!0,!0,i),e=null),t.on("detailsChanged",o,!0)}function O(){f(!1,!0,i)}function y(){T(),i=t.options.vertical,t.options.disabled||t.options.renderMode==="custom"||(l=W(t.options.slides,"perView",null)==="auto",t.on("detailsChanged",o),(e=t.slides).length&&O())}t.on("created",y),t.on("optionsChanged",y),t.on("beforeOptionsChanged",function(){T()}),t.on("updated",O),t.on("destroyed",T)}function mt(t,e){return function(i){var l,f,o,r,w,k=st();function s(m){var E;Z(i.container,"reverse",(E=i.container,window.getComputedStyle(E,null).getPropertyValue("direction")!=="rtl"||m?null:"")),Z(i.container,"v",i.options.vertical&&!m?"":null),Z(i.container,"disabled",i.options.disabled&&!m?"":null)}function T(){O()&&b()}function O(){var m=null;if(r.forEach(function(_){_.matches&&(m=_.__media)}),m===l)return!1;l||i.emit("beforeOptionsChanged"),l=m;var E=m?o.breakpoints[m]:o;return i.options=N(N({},o),E),s(),L(),S(),x(),!0}function y(m){var E=ot(m);return(i.options.vertical?E.height:E.width)/i.size||1}function M(){return i.options.trackConfig.length}function h(m){for(var E in l=!1,o=N(N({},e),m),k.purge(),f=i.size,r=[],o.breakpoints||[]){var _=window.matchMedia(E);_.__media=E,r.push(_),k.add(_,"change",T)}k.add(window,"orientationchange",A),k.add(window,"resize",p),O()}function a(m){i.animator.stop();var E=i.track.details;i.track.init(m??(E?E.abs:0))}function b(m){a(m),i.emit("optionsChanged")}function C(m,E){if(m)return h(m),void b(E);L(),S();var _=M();x(),M()!==_?b(E):a(E),i.emit("updated")}function x(){var m=i.options.slides;if(typeof m=="function")return i.options.trackConfig=m(i.size,i.slides);for(var E=i.slides,_=E.length,R=typeof m=="number"?m:W(m,"number",_,!0),q=[],F=W(m,"perView",1,!0),g=W(m,"spacing",0,!0)/i.size||0,c=F==="auto"?g:g/F,u=W(m,"origin","auto"),n=0,d=0;d<R;d++){var v=F==="auto"?y(E[d]):1/F-g+c,z=u==="center"?.5-v/2:u==="auto"?0:u;q.push({origin:z,size:v,spacing:g}),n+=v}if(n+=g*(R-1),u==="auto"&&!i.options.loop&&F!==1){var I=0;q.map(function(D){var H=n-I;return I+=D.size+g,H>=1||(D.origin=1-H-(n>1?0:1-n)),D})}i.options.trackConfig=q}function p(){L();var m=i.size;i.options.disabled||m===f||(f=m,C())}function A(){p(),setTimeout(p,500),setTimeout(p,2e3)}function L(){var m=ot(i.container);i.size=(i.options.vertical?m.height:m.width)||1}function S(){i.slides=U(i.options.selector,i.container)}i.container=(w=U(t,document)).length?w[0]:null,i.destroy=function(){k.purge(),i.emit("destroyed"),s(!0)},i.prev=function(){i.moveToIdx(i.track.details.abs-1,!0)},i.next=function(){i.moveToIdx(i.track.details.abs+1,!0)},i.update=C,h(i.options)}}var gt=function(t,e,i){try{return function(l,f){var o,r={};return o={emit:function(w){r[w]&&r[w].forEach(function(s){s(o)});var k=o.options&&o.options[w];k&&k(o)},moveToIdx:function(w,k,s){var T=o.track.idxToDist(w,k);if(T){var O=o.options.defaultAnimation;o.animator.start([{distance:T,duration:W(s||O,"duration",500),easing:W(s||O,"easing",function(y){return 1+--y*y*y*y*y})}])}},on:function(w,k,s){s===void 0&&(s=!1),r[w]||(r[w]=[]);var T=r[w].indexOf(k);T>-1?s&&delete r[w][T]:s||r[w].push(k)},options:l},function(){if(o.track=ft(o),o.animator=lt(o),f)for(var w=0,k=f;w<k.length;w++)(0,k[w])(o);o.track.init(o.options.initial||0),o.emit("created")}(),o}(e,ut([mt(t,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),ht,vt,pt],i||[],!0))}catch(l){console.error(l)}};const bt=`.keen-slider:not([data-keen-slider-disabled]){-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;align-content:flex-start;display:flex;overflow:hidden;position:relative;touch-action:pan-y;-webkit-user-select:none;-moz-user-select:none;user-select:none;-khtml-user-select:none;width:100%}.keen-slider:not([data-keen-slider-disabled]) .keen-slider__slide{min-height:100%;overflow:hidden;position:relative;width:100%}.keen-slider:not([data-keen-slider-disabled])[data-keen-slider-reverse]{flex-direction:row-reverse}.keen-slider:not([data-keen-slider-disabled])[data-keen-slider-v]{flex-wrap:wrap}
`;export{gt as k,bt as t};
