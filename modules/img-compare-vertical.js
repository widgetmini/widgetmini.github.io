import{c as C,a as S,u as j,h as s}from"./css.js";import{u as k}from"./use-effect.js";/*!
 * miniwidget v1.0.1 - (c) 2022 by kimthiendung@gmail.com - Apache-2.0 License.
 *//*!
 * miniwidget v1.0.1 - (c) 2022 by kimthiendung@gmail.com - Apache-2.0 License.
 */function u({src:h,srcCompare:y,width:c,height:a,color:w}){const f=j();function b(t,o){var t,o,l=0,v,r;v=t.offsetWidth,r=t.offsetHeight,t.style.height=r/2+"px",o.style.top=r/2-o.offsetHeight/2+"px",o.style.left=v/2-o.offsetWidth/2+"px",o.addEventListener("mousedown",p),window.addEventListener("mouseup",m),o.addEventListener("touchstart",p),window.addEventListener("touchend",m);function p(e){e.preventDefault(),l=1,window.addEventListener("mousemove",g),window.addEventListener("touchmove",g)}function m(){l=0}function g(e){var i;if(l==0)return!1;i=E(e),i<0&&(i=0),i>r&&(i=r),L(i)}function E(e){var i,n=0;return e=e.changedTouches?e.changedTouches[0]:e,i=t.getBoundingClientRect(),n=e.pageY-i.top,n=n-window.pageYOffset,n}function L(e){t.style.height=e+"px",o.style.top=t.offsetHeight-o.offsetHeight/2+"px"}}return k(()=>{const d=f.current;if(d){const x=d.querySelector(".cv-overlay"),t=d.querySelector(".cv-slider");b(x,t)}},[]),s("host",{shadowDom:!0},s("div",{class:"cv-container",ref:f,style:{width:c+"px",height:a+"px"}},s("div",{class:"cv-img"},s("img",{src:y,width:c,height:a})),s("div",{class:"cv-slider",style:{backgroundColor:w}}),s("div",{class:"cv-img cv-overlay"},s("img",{src:h,width:c,height:a}))))}u.props={src:{type:String,value:""},srcCompare:{type:String,value:""},width:{type:Number,value:400},height:{type:Number,value:300},color:{type:String,value:"#499491"}};u.styles=C`*{box-sizing:border-box}.cv-container{position:relative;max-width:100%}.cv-img{position:absolute;width:auto;height:auto;overflow:hidden}.cv-img img{max-width:100%;display:block;vertical-align:middle;-o-object-fit:cover;object-fit:cover;-o-object-position:bottom center;object-position:bottom center}.cv-slider{position:absolute;margin-top:-1.5px;height:3px;width:100%;z-index:9;cursor:ns-resize}.cv-slider:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(45deg);width:26px;height:26px;background-color:inherit;opacity:.8}`;customElements.define("img-compare-vertical",S(u));
