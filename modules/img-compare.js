import{c as C,a as S,u as j,h as s}from"./css.js";import{u as k}from"./use-effect.js";/*!
 * miniwidget v1.0.1 - (c) 2022 by kimthiendung@gmail.com - Apache-2.0 License.
 *//*!
 * miniwidget v1.0.1 - (c) 2022 by kimthiendung@gmail.com - Apache-2.0 License.
 */function l({src:v,srcCompare:w,width:u,height:c,color:y}){const f=j();function b(t,i){var t,i,a=0,r,p;r=t.offsetWidth,p=t.offsetHeight,t.style.width=r/2+"px",i.style.top=p/2-i.offsetHeight/2+"px",i.style.left=r/2-i.offsetWidth/2+"px",i.addEventListener("mousedown",g),window.addEventListener("mouseup",m),i.addEventListener("touchstart",g),window.addEventListener("touchend",m);function g(e){e.preventDefault(),a=1,window.addEventListener("mousemove",h),window.addEventListener("touchmove",h)}function m(){a=0}function h(e){var o;if(a==0)return!1;o=E(e),o<0&&(o=0),o>r&&(o=r),L(o)}function E(e){var o,n=0;return e=e.changedTouches?e.changedTouches[0]:e,o=t.getBoundingClientRect(),n=e.pageX-o.left,n=n-window.pageXOffset,n}function L(e){t.style.width=e+"px",i.style.left=t.offsetWidth-i.offsetWidth/2+"px"}}return k(()=>{const d=f.current;if(d){const x=d.querySelector(".c-overlay"),t=d.querySelector(".c-slider");b(x,t)}},[]),s("host",{shadowDom:!0},s("div",{class:"c-container",ref:f,style:{height:c+"px"}},s("div",{class:"c-img"},s("img",{src:w,width:u,height:c})),s("div",{class:"c-slider",style:{backgroundColor:y}}),s("div",{class:"c-img c-overlay"},s("img",{src:v,width:u,height:c}))))}l.props={src:{type:String,value:""},srcCompare:{type:String,value:""},width:{type:Number,value:400},height:{type:Number,value:300},color:{type:String,value:"#499491"}};l.styles=C`*{box-sizing:border-box}.c-container{position:relative}.c-img{position:absolute;width:auto;height:auto;overflow:hidden}.c-img img{max-width:100%;display:block;vertical-align:middle;-o-object-fit:cover;object-fit:cover;-o-object-position:right center;object-position:right center}.c-slider{position:absolute;margin-left:-1.5px;height:100%;width:3px;z-index:9;cursor:ew-resize}.c-slider:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(45deg);width:26px;height:26px;background-color:inherit;opacity:.8}`;customElements.define("img-compare",S(l));
